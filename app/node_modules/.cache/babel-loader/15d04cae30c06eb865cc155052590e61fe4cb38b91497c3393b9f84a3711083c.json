{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Micha\\\\Documents\\\\GitHub\\\\dynamic-algorithm-visualizer\\\\app\\\\src\\\\components\\\\algorithms\\\\min_heap.tsx\",\n  _s = $RefreshSig$();\nimport { BinaryTree } from \"../structures/binary_tree\";\nimport { animated, useTransition } from \"@react-spring/web\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class MinHeap {\n  // Track swapped nodes\n\n  constructor(isDynamicSize) {\n    this.isDynamicSize = isDynamicSize;\n    this.tree = void 0;\n    this.animationType = \"none\";\n    this.swapIndexes = null;\n    this.tree = new BinaryTree();\n  }\n  insert(value) {\n    var _this$tree;\n    (_this$tree = this.tree) === null || _this$tree === void 0 ? void 0 : _this$tree.add(value);\n    this.animationType = \"spawn\";\n    this.heapify(this.tree.length);\n  }\n  delete(value) {\n    // Implement delete logic if necessary\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"svg\", {\n      width: \"500\",\n      height: \"500\",\n      children: /*#__PURE__*/_jsxDEV(AnimatedTree, {\n        values: this.tree.values,\n        height: 1,\n        animationType: this.animationType,\n        swapIndexes: this.swapIndexes\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }, this);\n  }\n  heapify(cur_index) {\n    // At root, do not heapify.\n    if (cur_index == 1) return;\n\n    // Check if parent is less than the current index\n    const cur = this.tree.get(cur_index);\n    const par_index = this.tree.get_parent(cur_index);\n    const par_val = this.tree.get(par_index);\n    if (cur >= par_val) return;\n\n    // If so, swap the indexes\n    this.tree.swap(cur_index, par_index);\n    this.swapIndexes = {\n      from: cur_index,\n      to: par_index\n    };\n    this.animationType = \"swap\";\n\n    // Heapify on the new cur index\n    this.heapify(par_index);\n  }\n}\nconst AnimatedTree = ({\n  values,\n  height,\n  animationType,\n  swapIndexes\n}) => {\n  _s();\n  const nodeTransitions = useTransition(values.map((value, i) => ({\n    value,\n    index: i\n  })), {\n    keys: item => `${item.value}-${item.index}`,\n    // Ensure unique keys\n    from: {\n      opacity: 0,\n      transform: \"scale(0)\"\n    },\n    enter: {\n      opacity: 1,\n      transform: \"scale(1)\"\n    },\n    leave: {\n      opacity: 0,\n      transform: \"scale(0)\"\n    },\n    initial: null,\n    // Do not animate existing nodes on re-renders\n    trail: 300,\n    config: {\n      duration: 1000\n    }\n  });\n  const getNodePosition = index => {\n    if (index < 0 || isNaN(index)) return {\n      x: 0,\n      y: 0\n    };\n    if (index === 0) return {\n      x: 250,\n      y: 50\n    }; // Root at the center\n\n    const depth = Math.floor(Math.log2(index + 1)); // Get depth in the tree\n    let xSpacingMulti = 1;\n    if (height > 1) xSpacingMulti = 2;\n    const xSpacing = 200 * xSpacingMulti / (depth + 1); // Reduce spacing as depth increases\n    const ySpacing = 80; // Vertical spacing\n\n    const parentIndex = Math.floor((index - 1) / 2);\n    const parentPos = getNodePosition(parentIndex);\n\n    // Left child or right child\n    const isLeftChild = index % 2 === 1;\n    const xOffset = isLeftChild ? -xSpacing : xSpacing;\n    return {\n      x: parentPos.x + xOffset,\n      y: parentPos.y + ySpacing\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(\"g\", {\n    children: [nodeTransitions((style, {\n      value,\n      index\n    }) => {\n      if (index === 0) return null; // Root node has no parent, skip edge rendering\n      const {\n        x,\n        y\n      } = getNodePosition(index);\n      const parentIndex = Math.floor((index - 1) / 2);\n      const parentPos = getNodePosition(parentIndex);\n      return /*#__PURE__*/_jsxDEV(animated.line, {\n        // Separate key for lines\n        x1: parentPos.x,\n        y1: parentPos.y,\n        x2: x,\n        y2: y,\n        stroke: \"black\",\n        strokeWidth: \"2\",\n        style: {\n          strokeOpacity: 1\n        }\n      }, `line-${index}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 21\n      }, this);\n    }), nodeTransitions((style, {\n      value,\n      index\n    }) => {\n      const {\n        x,\n        y\n      } = getNodePosition(index);\n      return /*#__PURE__*/_jsxDEV(animated.g, {\n        style: style,\n        children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n          cx: x,\n          cy: y,\n          r: 30,\n          fill: (swapIndexes === null || swapIndexes === void 0 ? void 0 : swapIndexes.from) === index || (swapIndexes === null || swapIndexes === void 0 ? void 0 : swapIndexes.to) === index ? \"red\" : \"steelblue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n          x: x,\n          y: y,\n          dy: 5,\n          textAnchor: \"middle\",\n          fill: \"white\",\n          fontSize: \"12\",\n          children: value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 25\n        }, this)]\n      }, `node-${index}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 21\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 9\n  }, this);\n};\n_s(AnimatedTree, \"7q9XJ/T8qFFFTlXCAVzO9hMqO4s=\", false, function () {\n  return [useTransition];\n});\n_c = AnimatedTree;\nvar _c;\n$RefreshReg$(_c, \"AnimatedTree\");","map":{"version":3,"names":["BinaryTree","animated","useTransition","jsxDEV","_jsxDEV","MinHeap","constructor","isDynamicSize","tree","animationType","swapIndexes","insert","value","_this$tree","add","heapify","length","delete","render","width","height","children","AnimatedTree","values","fileName","_jsxFileName","lineNumber","columnNumber","cur_index","cur","get","par_index","get_parent","par_val","swap","from","to","_s","nodeTransitions","map","i","index","keys","item","opacity","transform","enter","leave","initial","trail","config","duration","getNodePosition","isNaN","x","y","depth","Math","floor","log2","xSpacingMulti","xSpacing","ySpacing","parentIndex","parentPos","isLeftChild","xOffset","style","line","x1","y1","x2","y2","stroke","strokeWidth","strokeOpacity","g","cx","cy","r","fill","dy","textAnchor","fontSize","_c","$RefreshReg$"],"sources":["C:/Users/Micha/Documents/GitHub/dynamic-algorithm-visualizer/app/src/components/algorithms/min_heap.tsx"],"sourcesContent":["import { Algorithm } from \"./algorithm_interface\";\r\nimport { BinaryTree } from \"../structures/binary_tree\";\r\nimport { animated, useTransition } from \"@react-spring/web\";\r\n\r\nexport class MinHeap implements Algorithm {\r\n    private tree: BinaryTree;\r\n    private animationType: \"spawn\" | \"swap\" | \"none\" = \"none\";\r\n    private swapIndexes: { from: number; to: number } | null = null; // Track swapped nodes\r\n\r\n    constructor(private isDynamicSize: boolean) {\r\n        this.tree = new BinaryTree();\r\n    }\r\n\r\n    insert(value: string | number): void {\r\n        this.tree?.add(value);\r\n        this.animationType = \"spawn\";\r\n\r\n        this.heapify(this.tree.length);\r\n    }\r\n\r\n    delete(value: string | number): void {\r\n        // Implement delete logic if necessary\r\n    }\r\n\r\n    render(): JSX.Element {\r\n        return (\r\n            <svg width=\"500\" height=\"500\">\r\n                <AnimatedTree\r\n                    values={this.tree.values}\r\n                    height={1}\r\n                    animationType={this.animationType}\r\n                    swapIndexes={this.swapIndexes}\r\n                />\r\n            </svg>\r\n        );\r\n    }\r\n\r\n    heapify(cur_index: number): void {\r\n        // At root, do not heapify.\r\n        if (cur_index == 1) return;\r\n\r\n        // Check if parent is less than the current index\r\n        const cur = this.tree.get(cur_index);\r\n        const par_index = this.tree.get_parent(cur_index);\r\n        const par_val = this.tree.get(par_index);\r\n\r\n        if (cur >= par_val) return;\r\n\r\n        // If so, swap the indexes\r\n        this.tree.swap(cur_index, par_index);\r\n        this.swapIndexes = { from: cur_index, to: par_index };\r\n        this.animationType = \"swap\";\r\n\r\n        // Heapify on the new cur index\r\n        this.heapify(par_index);\r\n    }\r\n}\r\n\r\nconst AnimatedTree = ({\r\n                          values,\r\n                          height,\r\n                          animationType,\r\n                          swapIndexes,\r\n                      }: {\r\n    values: (string | number)[];\r\n    height: number;\r\n    animationType: \"spawn\" | \"swap\" | \"none\";\r\n    swapIndexes: { from: number; to: number } | null;\r\n}) => {\r\n    const nodeTransitions = useTransition(\r\n        values.map((value, i) => ({ value, index: i })),\r\n        {\r\n            keys: (item) => `${item.value}-${item.index}`, // Ensure unique keys\r\n            from: { opacity: 0, transform: \"scale(0)\" },\r\n            enter: { opacity: 1, transform: \"scale(1)\" },\r\n            leave: { opacity: 0, transform: \"scale(0)\" },\r\n            initial: null, // Do not animate existing nodes on re-renders\r\n            trail: 300,\r\n            config: { duration: 1000 },\r\n        }\r\n    );\r\n\r\n    const getNodePosition = (index: number): { x: number; y: number } => {\r\n        if (index < 0 || isNaN(index)) return { x: 0, y: 0 };\r\n        if (index === 0) return { x: 250, y: 50 }; // Root at the center\r\n\r\n        const depth = Math.floor(Math.log2(index + 1)); // Get depth in the tree\r\n        let xSpacingMulti: number = 1;\r\n\r\n        if (height > 1) xSpacingMulti = 2;\r\n\r\n        const xSpacing = (200 * xSpacingMulti) / (depth + 1); // Reduce spacing as depth increases\r\n        const ySpacing = 80; // Vertical spacing\r\n\r\n        const parentIndex = Math.floor((index - 1) / 2);\r\n        const parentPos = getNodePosition(parentIndex);\r\n\r\n        // Left child or right child\r\n        const isLeftChild = index % 2 === 1;\r\n        const xOffset = isLeftChild ? -xSpacing : xSpacing;\r\n\r\n        return { x: parentPos.x + xOffset, y: parentPos.y + ySpacing };\r\n    };\r\n\r\n    return (\r\n        <g>\r\n            {/* Render edges (lines) first */}\r\n            {nodeTransitions((style, { value, index }) => {\r\n                if (index === 0) return null; // Root node has no parent, skip edge rendering\r\n                const { x, y } = getNodePosition(index);\r\n                const parentIndex = Math.floor((index - 1) / 2);\r\n                const parentPos = getNodePosition(parentIndex);\r\n\r\n                return (\r\n                    <animated.line\r\n                        key={`line-${index}`} // Separate key for lines\r\n                        x1={parentPos.x}\r\n                        y1={parentPos.y}\r\n                        x2={x}\r\n                        y2={y}\r\n                        stroke=\"black\"\r\n                        strokeWidth=\"2\"\r\n                        style={{ strokeOpacity: 1 }}\r\n                    />\r\n                );\r\n            })}\r\n\r\n            {/* Render nodes (circles) on top of the lines */}\r\n            {nodeTransitions((style, { value, index }) => {\r\n                const { x, y } = getNodePosition(index);\r\n\r\n                return (\r\n                    <animated.g key={`node-${index}`} style={style}>\r\n                        <circle\r\n                            cx={x}\r\n                            cy={y}\r\n                            r={30}\r\n                            fill={swapIndexes?.from === index || swapIndexes?.to === index ? \"red\" : \"steelblue\"}\r\n                        />\r\n                        <text x={x} y={y} dy={5} textAnchor=\"middle\" fill=\"white\" fontSize=\"12\">\r\n                            {value}\r\n                        </text>\r\n                    </animated.g>\r\n                );\r\n            })}\r\n        </g>\r\n    );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}